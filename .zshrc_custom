# [------------ Aliases ------------]
alias hgrep='history | grep $1'
alias agrep='alias | grep $1'
alias lash='ls -lashtr --color=auto'
alias jupyter='export BROWSER=firefox && jupyter && export BROWSER=links'
alias jupyter-lab='export BROWSER=firefox && jupyter-lab && export BROWSER=links'
alias jupyter-lab-port='export BROWSER=firefox && jupyter-lab --port=$1 && export BROWSER=links'
alias toast='powershell.exe -command New-BurntToastNotification'
alias clear='clear -x'
alias cleer='clear -x&&task ready'
alias vw='vim -c "VimwikiIndex"'
alias acs='apt-cache search'
alias sapt='sudo apt-get install'
alias imps='grep -RE "(from)? ?import.*" *.py'
function g { links http://www.google.com/search\?q="$1" ; }

# [------------ Default Tools ------------]

export VISUAL=vim
export BROWSER=links
export EDITOR="$VISUAL"
export NNN_COPIER=$HOME/bin/nnn_copier.sh # Set up xsel for the NNN_COPIER environment variable for `nnn`.
export DOCKER_HOST=tcp://localhost:2375
export PYTHON_CONFIGURE_OPTS="--enable-shared"

# [------------ Machine-specific  ------------]

if [[ "$USER" == "muraii" ]] #                          Gaming PC
then
    export PATH="/home/muraii/anaconda3/bin:$PATH"
elif [[ "$USER" == "dblack" ]] #                        Work laptop
then
    # Getting X running from WSL
    DISPLAY=0:0
    export DISPLAY

    # Setting up cut'n'paste.
    alias cmd='/mnt/c/Windows/System32/cmd.exe'
    alias clip='/mnt/c/Windows/System32/clip.exe'

    # Miscellaneous functions in WSL.
    function se { du -a ~/winHome/Downloads/* ~/vimwiki/* ~/winHome/gitrepos/* ~/projects/* | awk '{ print $2 }' | fzf | xargs -or $EDITOR; }
    # Fix the issue with timezones on WSL going kaput or something gosh.
    export TZ='US/Eastern'
 
    # Fix for WSL PATH from https://www.reddit.com/r/bashonubuntuonwindows/comments/c09tbb/how_does_wsl_derive_its_path/
    export PATH="$(tr ':' '\n' <<<"$PATH" | grep -Ev '^(/mnt)/c/' | paste -sd ':')"
elif [[ "$USER" == "danielblack" ]] #                   Macbook Pro.
then
    export PATH="/Users/danielblack/.rbenv/shims:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/MacGPG2/bin"
    source ~/.iterm2_shell_integration.zsh
fi

# [------------ PATH ------------]

export PATH="$HOME/bin:$PATH"
export PATH="/usr/local/opt/vim/bin/vim:/usr/local/sbin:$PATH"
# Apache Spark setup
export SPARK_HOME=/opt/apache-spark/spark-2.4.4-bin-hadoop2.7
export PATH=$PATH:$SPARK_HOME/bin
export GOPATH=$HOME/go
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
export PATH="$HOME/.poetry/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"
# export JAVA_HOME="/usr/bin/java"
export JAVA_HOME="/usr/lib/jvm/java-1.11.0-openjdk-amd64"
export PATH="$JAVA_HOME:$PATH"

if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
fi

# [------------ GIT -------------]
source ~/.oh-my-zsh/plugins/git/git.plugin.zsh
